<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="carWidgetCSS.css">
    
    <style type="text/css">
      html { height: 100%; }
      body {
          height: 100%;
          margin: 0;
          padding: 0;
          overflow: hidden;
          font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
          font-size: 12px;
      }
      #map_canvas {
          height: 100%;
          position: absolute;
          left: 330px;
          top: 0;
      }
      #map_canvas > div > div:nth-child(3n) {
          visibility: hidden;
      }
      #speedContainer {
          width: 100px;
          height: 100px;
          margin: 25px 0 0 115px;
      }
      #speedSlider {
          margin: 10px 0 10px 100px;
      }
      #leftContainer {
          width: 330px;
      }
      .center_text {
          text-align: center;
      }
      .margin_top_20 {
          margin-top: 20px;
      }
    </style>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="jquery.knob.js"></script>
    
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?sensor=false">
    </script>
    
    <script type="text/javascript">
    var map, marker;
    
    $(document).ready(function() {
        var lat = 52.515;
        var lng = 13.351;
        var myLatlng = new google.maps.LatLng(lat, lng);
        
        var mapOptions = {
          center: myLatlng,
          zoom: 15,
          panControl: false,
          mapTypeControl: false,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        
        map = new google.maps.Map(document.getElementById("map_canvas"),
            mapOptions);
        
        marker = new google.maps.Marker({
            position: myLatlng, 
            map: map
        });
        
        $("#speed").knob({
            inputColor: '#66CC66',
            fgColor: '#66CC66',
            angleOffset: -125,
            angleArc: 250,
            width: 100,
            change: function(v) {
              $('#speedSlider').val(v);
              speed(v);
            }
        });
        
        $('#speedSlider').on('change', function() {
            $('#speed').val( $(this).val() );
            $('#speed').trigger('change');
            speed( $(this).val() );
        });
        
        $('#motor').on('click', function(){
			motor( $(this).is(':checked') );
		});

		$('#fogLights').on('click', function(){
			fogLights( $(this).is(':checked') );
		});
    });
    
    function carPosition(lat, lng) {
        var latLng = new google.maps.LatLng(lat, lng);
        marker.setPosition(latLng);
        map.setCenter(latLng);
    };
        
    
    </script>
  </head>
  <body>
    <div id="leftContainer">
        <div id="speedContainer">
          <input type="text" value="40" id="speed">
        </div>
        <div class="center_text">SPEED</div>
        <input type="range" min="0" max="100" step="1" id="speedSlider" value="40" />

        <div class="center_text margin_top_20">MOTOR</div>
        <div class="onoffswitch">
          <input type="checkbox" name="motor" class="onoffswitch-checkbox" id="motor">
          <label class="onoffswitch-label" for="motor">
              <div class="onoffswitch-inner"></div>
              <div class="onoffswitch-switch"></div>
          </label>
        </div>
        
        <div class="center_text margin_top_20">FOG LIGHTS</div>
        <div class="onoffswitch">
          <input type="checkbox" name="fogLights" class="onoffswitch-checkbox" id="fogLights">
          <label class="onoffswitch-label" for="fogLights">
              <div class="onoffswitch-inner"></div>
              <div class="onoffswitch-switch"></div>
          </label>
        </div>
    </div>
    
    <div id="map_canvas" style="width:534px; height:534px;"></div>
  </body>
</html>